# Storyblok Management API Typescript Client

[typescript](https://github.com/Microsoft/TypeScript) library for working with [Storyblok management API](https://api.storyblok.com/docs). Uses [axios](https://github.com/axios/axios) and [request-promise](https://github.com/request/request-promise) to make Storyblok management API calls

[![npm](https://img.shields.io/npm/v/:package.svg)](https://www.npmjs.com/package/storyblok-ts-client)

## Description

<hr>

* consists of a basic CRUD client "[`Storyblok`](#Storyblok)" and a wrapper library of axios management API requests "[`ApiClient`](#ApiClient)"
* [ApiClient](#ApiClient) methods are categorized into the following:
  * [assetFolders](#ApiClient+assetFolders)
  * [assets](#ApiClient+assets)
  * [components](#ApiClient+components)
  * [spaces](#ApiClient+spaces)
  * [stories](#ApiClient+stories)
* API requests are throttled to 3 calls per second
* images are compressed and resized using [sharp](https://github.com/lovell/sharp)
* [jest](https://github.com/facebook/jest) is setup for testing (not fully tested)
* the management API is not fully implemented

## Installation

<hr>

```bash
npm install --save storyblok-ts-client
```

## Usage

<hr>

```js
// Basic CRUD client
const {Storyblok} = require('storyblok-ts-client')
const storyblok = storyblok('fake_api_token')
return storyblok.get('/12345')
  .then(res => console.log('space id:', res.data.id))
  // => space id: 12345

// Management API wrapper
const {ApiClient} = require('storyblok-ts-client')
const apiClient = ApiClient('fake_api_token', 12345)
return apiClient.spaces.get()
  .then(space => console.log('space id:', space.id))
  // => space id: 12345
```

## CLI Scripts

<hr>

```bash
// development and testing
npm run dev // runs typescript transpiler in watch mode
npm run dev:test // runs jest in watch mode
npm test // runs jest
npm run coverage // runs jest and check code coverage stat
npm start // runs any executable code in the index.js

// build
npm run build

// tslint
npm run lint

// prettier
npm run format
```

## API Reference

<hr>

{{>main}}


<hr>

&copy; 2018 juniorCitizen
